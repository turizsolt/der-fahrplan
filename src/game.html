<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html" charset="utf-8"/>
    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
    <title>Der Fahrplan</title>
    <style>
        html, body {
            overflow: hidden;
            width   : 100%;
            height  : 100%;
            margin  : 0;
            padding : 0;
        }
        #renderCanvas {
            width   : 100%;
            height  : 100%;
            touch-action: none;
        }
        #button-holder {
            position: fixed;
            right: 20px;
            top: 20px;
            /*width: 200px;
            height: 40px;*/
            z-index: 1;
        }
        button {
            width: 40px;
            height: 40px;
            padding: 0;
            margin: 0;
        }
        .selected {
            background-color: rebeccapurple;
        }



        #big-screen {
            position: fixed;
            left: 240px;
            top: 20px;
            bottom: 20px;
            right: 20px;
            background-color: aliceblue;
            display: flex;
        }

        .column {
            flex-grow: 1;
        }

        /******************************************/

        #info-box {
    position: fixed;
    left: 20px;
    top: 20px;
    bottom: 20px;
    width: 200px;
    background-color:#cec;

    border: 2px solid #070;
    border-radius: 0.5em;

    padding: 10px;

    display: flex;
    justify-content: space-between;
    flex-direction: column;
}

.to-menu {
    height: 20px;
    text-align: center;
}

.item-type {
    text-align: center;
    font-size: 20px;
    font-weight: bold;
    margin-bottom: 0px;
}

.item-id {
    text-align: center;
    font-style: italic;
    font-size: 10px;
    margin-bottom: 20px;
}

.route-select {
    width: 100%;
    border: 1px solid #070;
    border-radius: 0.25em;
    background-color: #aca;
}

.trip {
    display: flex;
    margin-bottom: 10px;
}

.trip-name {
    background-color: #9a9;
    border: 1px solid #070;
    border-radius: 0.25em;
    padding: 3px 0 3px 3px;
    min-width: 3em;
    font-weight: bold;
    text-align: center;
}

.trip-destination {
    padding: 3px;
    font-weight: bold;
}

.trip-buttons {
    display: flex;
    justify-content: flex-end;
}


.xbutton {
    border: 1px solid #a18d6f;
    border-radius: 0.25em;
    background-color: khaki;
    margin: 0.25em;
    padding: 0.5em;
    display: inline-block;
    cursor: pointer;
}

.xbutton:hover {
    background-color: #a18d6f;
}

.stop {
    margin-top: 10px;
    margin-bottom: 10px;
    display: flex;
    height: 15px;
}

.stop-circle {
    width: 10px;
    height: 10px;
    border: 2px solid #070;
    border-radius: 50%;
}

.stop-name {
    margin-left: 5px;
    margin-top: -2.5px;
}

.stop-after {
    position: relative;
    width: 4px;
    height: 15px;
    top: 12px;
    left: -9px;
}

.color {
    background-color: #070;
}

.nocolor {
    background-color: none;
}

[v-cloak] { display: none; }

    </style>
</head>
<body>
    <div id="button-holder">
            <select size="1" v-if="selected === 'CREATE_ENGINE'"
            v-model="wagon"
            v-on:click="handleWagonClick">
                    <option value="wagon">Mozdony</option>
                    <option value="mot">Motorvonat</option>
                    <option value="vez">Vezérlőkocsi</option>
                    <option value="utas">Utaskocsi</option>
                </select>
            <button 
                v-for="button in buttons"
                v-bind:id="button.id"
                v-on:click="handleClick"
                v-bind:class="{ selected: selected === button.id }"
            >{{button.text}}</button>
    </div>
    <div id="info-box">
        <component v-if="selected" :is="type" :idt="selected.id" :obj="selected" :opts="opts"></component>
        <div v-if="!selected"></div>
        <div class="to-menu">
            <a href="index.html">Vissza a menübe</a>
        </div>
    </div>
    <div v-cloak id="big-screen" v-if="show">
        <div class="column" id="route-list">
            <div>Route list</div>
            <div v-for="route in routes" v-bind:class="{selected: selectedRoute && selectedRoute.id === route.id}">
                <span v-on:click="selectRoute(route)">{{route.detailedName}}</span>
                <span v-on:click="removeRoute(route)">x</span>
            </div>
            <div>
                <span v-on:click="createRoute()">Create route</span>
            </div>
        </div>
        <div class="column" id="route-details">
            <div>Edit route</div>
            <div v-if="selectedRoute">
                Id: {{selectedRoute.id}}<br />
                Name: <input type="text" v-model="selectedRoute.name" @change="nameChange" /><br />
                Stops:<br />
                <div v-for="(stop, index) in selectedRoute.stops">
                    {{stop.stationName}}
                    <button v-on:click="deleteStop(stop)">Del</button>
                    <button v-on:click="swapStop(stop)" v-if="index !== 0">Swup</button>
                </div>
                <button v-on:click="createReverseRoute(selectedRoute)">Create reverse route</button>
            </div>
        </div>
        <div class="column" id="route-station-options">
            <div>Add stops</div>
            <div  v-if="selectedRoute">
                <div v-for="station in stations">
                    <button v-on:click="addStop(station)">Add</button> {{station.name}}
                </div>
            </div>
        </div>
    </div>
<canvas id="renderCanvas">
</canvas>
<script>
    
    </script>
</body>
</html>
